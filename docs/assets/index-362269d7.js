(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function l(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=l(r);fetch(r.href,o)}})();(()=>{let i=[];const c=["C","D","H","S"],l=["A","J","Q","K"];let n=[];const r=document.querySelector("#btnNuevo"),o=document.querySelector("#btnPedir"),a=document.querySelector("#btnDetener"),d=document.querySelectorAll(".divCartas"),f=document.querySelectorAll("small"),p=(t=2)=>{i=b(),n=[];for(let e=0;e<t;e++)n.push(0);f.forEach(e=>e.innerText=0),d.forEach(e=>e.innerHTML=""),o.disabled=!1,a.disabled=!1},b=()=>{i=[];for(let e=2;e<=10;e++)for(let s of c)i.push(e+s);for(let e of c)for(let s of l)i.push(s+e);function t(e){return[...e].sort(()=>Math.random()-.5)}return t(i)},m=()=>{if(i.length===0)throw"No hay cartas en el deck";return i.pop()},y=t=>{const e=t.substring(0,t.length-1);return isNaN(e)?e==="A"?11:10:e*1},g=(t,e)=>(n[e]=n[e]+y(t),f[e].innerText=n[e],n[e]),h=(t,e)=>{const s=document.createElement("img");s.src=`assets/cartas/${t}.png`,s.classList.add("carta"),s.alt=t,d[e].append(s)},v=()=>{const[t,e]=n;setTimeout(()=>{e===t?alert("Nadie Gana "):t>21?alert("Computadora Gana "):e>21?alert("Jugador Gana "):alert("Computadora Gana ")},10)},u=t=>{let e=0;do{const s=m();e=g(s,n.length-1),h(s,n.length-1)}while(e<t&&t<=21);v()};return o.addEventListener("click",()=>{const t=m(),e=g(t,0);h(t,0),e>21?(console.warn("Lo siento mucho, perdiste"),o.disabled=!0,a.disabled=!0,u(e)):e===21&&(console.warn("Genial, ganaste"),o.disabled=!0,a.disabled=!0,u(e))}),a.addEventListener("click",()=>{o.disabled=!0,a.disabled=!0,u(n[0])}),r.addEventListener("click",()=>{p()}),{nuevoJuego:p}})();
