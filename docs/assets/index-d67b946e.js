(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}})();const b=(e,t,s)=>{if(!t)throw new Error("TiposDeCarta es obligatorio");e=[];for(let r=2;r<=10;r++)for(let o of t)e.push(r+o);for(let r of t)for(let o of s)e.push(o+r);function n(r){return[...r].sort(()=>Math.random()-.5)}return n(e)},p=e=>{if(!e||e.length===0)throw new Error("No hay cartas en el deck");return e.pop()},g=e=>{const t=e.substring(0,e.length-1);return isNaN(t)?t==="A"?11:10:t*1},m=(e,t,s)=>{const n=document.createElement("img");n.src=`assets/cartas/${e}.png`,n.classList.add("carta"),n.alt=e,s[t].append(n)},h=(e,t,s,n)=>(s[t]=s[t]+g(e),n[t].innerText=s[t],s[t]),u=(e,t,s,n,r)=>{let o=0;do{const a=p(e);o=h(a,s.length-1,s,n),m(a,s.length-1,r)}while(o<t&&t<=21);y(s)},y=e=>{const[t,s]=e;setTimeout(()=>{s===t?alert("Nadie Gana "):t>21?alert("Computadora Gana "):s>21?alert("Jugador Gana "):alert("Computadora Gana ")},10)};(()=>{let e=[];const t=["C","D","H","S"],s=["A","J","Q","K"];let n=[];const r=document.querySelector("#btnNuevo"),o=document.querySelector("#btnPedir"),a=document.querySelector("#btnDetener"),l=document.querySelectorAll(".divCartas"),c=document.querySelectorAll("small"),f=(d=2)=>{e=b(e,t,s),n=[];for(let i=0;i<d;i++)n.push(0);c.forEach(i=>i.innerText=0),l.forEach(i=>i.innerHTML=""),o.disabled=!1,a.disabled=!1};return o.addEventListener("click",()=>{const d=p(e),i=h(d,0,n,c);m(d,0,l),i>21?(console.warn("Lo siento mucho, perdiste"),o.disabled=!0,a.disabled=!0,u(e,i,n,c,l)):i===21&&(console.warn("Genial, ganaste"),o.disabled=!0,a.disabled=!0,u(e,i,n,c,l))}),a.addEventListener("click",()=>{o.disabled=!0,a.disabled=!0,u(e,n[0],n,c,l)}),r.addEventListener("click",()=>{f()}),{nuevoJuego:f}})();
